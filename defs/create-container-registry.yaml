type: layout-form
id: root
header:
  - type: header
    title: Container Registry
    logo: icon.webp
form:
  - $include: __resource_group_select_or_create.yaml

  - type: fieldset
    subitems:
      - type: row
        subitems:
          - type: textfield
            name: Name
            variable: acr_name
            id: acr-name-field
      - type: row
        id: sku-row
        subitems:
          - type: combo
            id: sku-combo
            name: Select SKU
            items:
              - Basic
              - Standard
              - Premium
            variable: sku

      - type: 'action-row'
        name: Create ACR
        variables:
          - resource_group_name
          - acr_name
          - sku
        verify: |
            az acr show --resource-group ${resource_group_name} --name ${acr_name}
        install: az acr create --resource-group ${resource_group_name} --name ${acr_name} --sku ${sku}
        uninstall: az acr delete --resource-group ${resource_group_name} --name ${acr_name} --yes

footer:
  - type: footer
    id: footer
    subitems:
      - type: button
        id: install_button
        text: Install
