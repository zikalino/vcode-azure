type: layout-form
id: root
header:
  - type: header
    title: Linode (Virtual Machine)
    logo: icon.webp
form:
  - type: fieldset
    subitems:
      - type: row
        subitems:
          - type: textfield
            name: Name
            produces:
              - variable: name

      - $include: __linode_region_selector.yaml
      - $include: __linode_type_selector.yaml
      - type: textfield
        name: Root Password
        produces:
          - variable: password

  - type: fieldset
    subitems:
      - type: 'action-row'
        name: Create Linode
        consumes:
          - variable: linode_type
          - variable: region
          - variable: name
          - variable: password
        verify: |
            linode list --label ${name}
        install: linode linodes create --region ${region} --type ${linode_type} --label ${name}  --root_pass ${password}
        uninstall: xxx

footer:
  - type: footer
    id: footer
    subitems:
      - type: button
        id: install_button
        text: Create
